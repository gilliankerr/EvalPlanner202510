# ---------------------------------------------------------------------------
# Shared variables (set for BOTH the API and worker services)
# ---------------------------------------------------------------------------
# The database connection string provisioned by Railway Postgres.
DATABASE_URL=postgresql://user:password@host:5432/database

# Resend transactional email configuration.
RESEND_API_KEY=your-resend-api-key
RESEND_FROM_EMAIL=ai@gkerr.com

# Automatically run database migrations at startup.
RUN_DB_MIGRATIONS=true

# Optional: customize the advisory lock key used during migrations. If you run multiple
# unrelated applications sharing the same Postgres instance, change this to avoid lock
# collisions. Choose a 64-bit signed integer.
# DB_MIGRATE_ADVISORY_LOCK=1234567890

# Optional: adjust retry/backoff behavior when waiting for the DB to be ready.
# Defaults: MAX_RETRIES=12, SLEEP_SECONDS=5 (approximately 60 seconds total)
# DB_MIGRATE_MAX_RETRIES=12
# DB_MIGRATE_SLEEP_SECONDS=5

# OpenRouter configuration for AI prompt generation.
OPENROUTER_API_KEY=your-openrouter-api-key
PROMPT1_MODEL=openai/gpt-5
PROMPT1_TEMPERATURE=0.7
PROMPT1_WEB_SEARCH=true
PROMPT2_MODEL=openai/gpt-5
PROMPT2_TEMPERATURE=0.7
PROMPT2_WEB_SEARCH=true
REPORT_TEMPLATE_MODEL=openai/gpt-5
REPORT_TEMPLATE_TEMPERATURE=0.7
REPORT_TEMPLATE_WEB_SEARCH=false

# Background processing toggles. Enable job processor on the worker service,
# and optionally disable it on the API if you want strict separation.
ENABLE_JOB_PROCESSOR=true

# Set to true only on the worker service to skip starting the HTTP server.
WORKER_ONLY=false

# ---------------------------------------------------------------------------
# API-only variables (set ONLY on the API service)
# ---------------------------------------------------------------------------
# Admin password protects the prompt management UI.
ADMIN_PASSWORD=change-me

